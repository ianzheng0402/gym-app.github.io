(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{215:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAnBJREFUaAXtmrtKA1EQhrMqKFooARUVBO2VPIBiOgvBzsJC7NRWFGz0DcQH8DF8Au2tvFTeQLBRUBtvoMZvIJDdsHP2LDl7iezAsGd35sz//3POJtkkpVJh/7QDtVptHb/CxX5xGa+3hVyILuGaLeVeBMyPNPYScymgw2UxX61R37h5aIo150aeJyXg1YBsihmmJRxia3Tgs/gB/ohrJjHJkdykGmivVkjgK/gNHteumSBzsxECcAW/xFu1CwpU7NvmIBPADfyzVea++R9S0wG16BIA7fmAXQ93oxm0kAHbTdeMQ+pttkBRnwrQDP4TAuj6kmDM6EwaEa8xNI8o2EfGGT5pznQWvaXStOd5b6aKcV6+diiUFnnhLFiCaTSrFah3/55KZWM198FnSo6bVsF2BVYzIC/tkIYJtmq2AhbVCskHjNiRW4jt0w1HWcre5LmGIrxztcw2+gqL2qyAvMVnRV44C7b6McNGwIhUydhUDjYChjMmL/AqBxsBAzkQ0K9xsBGgzU3zuvpi0y4C1GYVAtTWpBQoViClRqswxQqorUkpUKxASo1WYdp+Bbo0aTwHDBHbwue1nBSvL8NHns72eS548uOqnzGYcEzinD85B+MTBFT9PEwCvkns9CfnYPyDgMCuMd0DLzkg3ExBHm0DZhKwTWboc2igQnonwkU4BUzdQpLFfdDDYTAwI7uTJ7bPZ3bwCSEbVyAOJqs1Rv5anDnkHtLVh5hzkklHgIfH+bVGcp010IkqCC3gNl+/S86CE1DXRSAmfzGIsnz/5QD2Vfw0RIVcq7psWmJ7EKJSewKfqhM+53jHTVurnzs5/AEz2or9KpoNowAAAABJRU5ErkJggg=="},216:function(t,e,n){"use strict";n(14);var r=n(33),c=n.n(r).a.create({baseURL:"http://match.bsdctw.net/api/"});c.interceptors.request.use((function(t){return window.localStorage.getItem("token")&&(t.headers={Authorization:"Bearer "+window.localStorage.getItem("token")}),t}),(function(t){return Promise.reject(t)})),c.interceptors.response.use((function(t){return t}),(function(t){return Promise.resolve(t)})),e.a=c},217:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAAAXNSR0IArs4c6QAAAS1JREFUaAXtl8EJwkAURLOoBKxA8GgLVmEj3i1ALcAmPHgVPFhCQPCsLWgTGufr5ibCkv/5WZmFz0ZYZ2fe5JKi4CIBEiABEkggUNf1KOF4d48iSIk5YGQtvJz2NS5GgBI6e8ws6g00dF00JAzmiGnWDg89FzNtL4VxhmkL0eT/bMYEq4Iom1GAaCLBZkywKoiyGQWIJhJsxgSrgiibUYBoIvFPzQQJA0oXzCTSumO/xuectiqEsJRAa7he5eT8h9exBJKvyxNmGg/esFeYZ/ydy3ZGQ5u3WQmFkU/nZskntbyK+S4EYKgs6mNTWdQEk2yKTTkS4OvnCD/pajaVhMvxMJtyhJ90NZtKwuV4+EtTS0c7OlfHUFvsD8xcR7UDKggz7IANWiABEiCBD4EXyIv1iOsRCl0AAAAASUVORK5CYII="},218:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAwCAYAAABT9ym6AAAAAXNSR0IArs4c6QAAAbpJREFUaAXt2bFOwzAQgOEGOiGBYOUJ2NiQkGCACTEwMLHwOognYYFHYESwMfIiZUQKvyFXISuhjuvz2VIsndxadu4+t2mTdjab2rQD0w5E7UDbtufEM3EddYDEi6hjTtwTT8Ru8OGZ/EC49kXcBC9UmEh+h3AAaVfBaVhxRCy6lWYY8vuIV8a2giFuIgtOCTNMh3ikl+YQO6MQMpmFJhjyulciDcIKo4LIjekQf0/s+LeTFO/3JDkh1M6ZLAhBaWGyIrQwJojUGFNEKkwRiHUxRSFiMQOIbTmeaU9xQR/NRSNkB1dhqkCswlSF+AdzC8S/7CjjnJCih3rvbcbTZXPXTnUgBEfBZ8vyfx981Ijw7+wcxexOUzZ3VE/BPuKdMbWr5lHFhU7uQfycE4wHfc+E5lGdN4SQpFVgViGqwIQiisaMRRSJiUUUhVkXUQSmQ/g/nkVfdnC8/B/NqREmr4wWIitGG5EFkwuhismNUMFYIZJirBHJMEDuCGmmt6cU4X/PHAhU+g150NPvdWNv9BdN0yx65mQZIvcLiS6JT2KTGPWvrrvLOybmLCyiUcs+cVhEMVMR0w5UtgPfXcWxw0IAaYEAAAAASUVORK5CYII="},219:function(t,e,n){t.exports=n.p+"img/300c8a9.png"},220:function(t,e,n){"use strict";var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn-item"},[e("img",{attrs:{src:n(219)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn-title"},[e("div",{staticClass:"title"},[this._v("儲存")])])}],c={props:{title:{type:String,default:""},config:{type:Object,default:function(){return{bgNone:!1,fixedNone:!1,backPage:!1,backLink:"",closePage:!1,closeLink:"",notification:!1,editBtn:!1,saveBtn:!1}}},editFn:{type:Function,default:function(){}},saveFn:{type:Function,default:function(){}},backFn:{type:Function,default:function(link){link?this.$router.push(link):this.$router.go(-1)}},closeFn:{type:Function,default:function(link){link?this.$router.push(link):this.$router.go(-1)}}}},o=n(9),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header",class:{unbg:t.config.bgNone,unfixed:t.config.fixedNone},attrs:{id:"header"}},[r("div",{staticClass:"header-wrapper"},[r("div",{staticClass:"header-left"},[r("div",{staticClass:"page-btn"},[t.config.backPage?r("div",{staticClass:"page-btn__item",on:{click:function(e){return t.backFn(t.config.backLink)}}},[r("img",{attrs:{src:n(217)}})]):t.config.closePage?r("div",{staticClass:"page-btn__item",on:{click:function(e){return t.closeFn(t.config.closeLink)}}},[r("img",{attrs:{src:n(218)}})]):t._e()])]),r("div",{staticClass:"header-content"},[r("div",{staticClass:"title"},[t._v(t._s(t.title))])]),r("div",{staticClass:"header-right"},[r("div",{staticClass:"controll-btn"},[t.config.notification?r("div",{staticClass:"controll-btn__item"},[r("nuxt-link",{staticClass:"btn-item",attrs:{to:"/notification"}},[r("img",{attrs:{src:n(215)}})])],1):t.config.editBtn?r("div",{staticClass:"controll-btn__item",on:{click:t.editFn}},[t._m(0)]):t.config.saveBtn?r("div",{staticClass:"controll-btn__item",on:{click:t.saveFn}},[t._m(1)]):t._e()])])])])}),r,!1,null,null,null);e.a=component.exports},225:function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return _}));var r=n(216),c=function(){return r.a.get("users")},o=function(data){return r.a.put("users",data)},l=function(data){return r.a.put("users/application",data)},d=function(){return r.a.get("supply/index")},f=function(){return r.a.get("supply/index/services")},_=function(data){return r.a.post("supply/index/details",data)}},232:function(t,e,n){t.exports=n.p+"img/4d89553.png"},233:function(t,e,n){var r=n(15);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},235:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return o}));var r=n(216),c=function(){return r.a.get("global/zones")},o=function(){return r.a.get("global/serviceclasses")}},247:function(t,e,n){t.exports=n.p+"img/41d5bd0.png"},250:function(t,e,n){"use strict";var strong=n(251),r=n(233);t.exports=n(252)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(r(this,"Set"),t=0===t?0:t,t)}},strong)},251:function(t,e,n){"use strict";var r=n(10).f,c=n(65),o=n(132),l=n(27),d=n(130),f=n(131),_=n(80),v=n(134),m=n(81),A=n(7),h=n(129).fastKey,k=n(233),C=A?"_s":"size",w=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,_){var v=t((function(t,r){d(t,v,e,"_i"),t._t=e,t._i=c(null),t._f=void 0,t._l=void 0,t[C]=0,null!=r&&f(r,n,t[_],t)}));return o(v.prototype,{clear:function(){for(var t=k(this,e),data=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete data[n.i];t._f=t._l=void 0,t[C]=0},delete:function(t){var n=k(this,e),r=w(n,t);if(r){var c=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=c),c&&(c.p=o),n._f==r&&(n._f=c),n._l==r&&(n._l=o),n[C]--}return!!r},forEach:function(t){k(this,e);for(var n,r=l(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!w(k(this,e),t)}}),A&&r(v.prototype,"size",{get:function(){return k(this,e)[C]}}),v},def:function(t,e,n){var r,c,o=w(t,e);return o?o.v=n:(t._l=o={i:c=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[C]++,"F"!==c&&(t._i[c]=o)),t},getEntry:w,setStrong:function(t,e,n){_(t,e,(function(t,n){this._t=k(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?v(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,v(1))}),n?"entries":"values",!n,!0),m(e)}}},252:function(t,e,n){"use strict";var r=n(4),c=n(6),o=n(12),l=n(132),meta=n(129),d=n(131),f=n(130),_=n(15),v=n(11),m=n(82),A=n(46),h=n(83);t.exports=function(t,e,n,k,C,w){var y=r[t],x=y,E=C?"set":"add",B=x&&x.prototype,F={},I=function(t){var e=B[t];o(B,t,"delete"==t?function(a){return!(w&&!_(a))&&e.call(this,0===a?0:a)}:"has"==t?function(a){return!(w&&!_(a))&&e.call(this,0===a?0:a)}:"get"==t?function(a){return w&&!_(a)?void 0:e.call(this,0===a?0:a)}:"add"==t?function(a){return e.call(this,0===a?0:a),this}:function(a,b){return e.call(this,0===a?0:a,b),this})};if("function"==typeof x&&(w||B.forEach&&!v((function(){(new x).entries().next()})))){var U=new x,z=U[E](w?{}:-0,1)!=U,S=v((function(){U.has(1)})),N=m((function(t){new x(t)})),V=!w&&v((function(){for(var t=new x,e=5;e--;)t[E](e,e);return!t.has(-0)}));N||((x=e((function(e,n){f(e,x,t);var r=h(new y,e,x);return null!=n&&d(n,C,r[E],r),r}))).prototype=B,B.constructor=x),(S||V)&&(I("delete"),I("has"),C&&I("get")),(V||z)&&I(E),w&&B.clear&&delete B.clear}else x=k.getConstructor(e,t,C,E),l(x.prototype,n),meta.NEED=!0;return A(x,t),F[t]=x,c(c.G+c.W+c.F*(x!=y),F),w||k.setStrong(x,t,C),x}},310:function(t,e,n){"use strict";n.r(e);n(128),n(64),n(44),n(16),n(14),n(45),n(250),n(26);var r=n(3),c=n(220),o=n(235),l=n(225),d={components:{Header:c.a},data:function(){return{title:"接案區域管理",config:{headerConfig:{bgNone:!1,fixedNone:!0,backPage:!0,saveBtn:!0}},view:{popup:!1},status:{result:!0}}},asyncData:function(){return Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,r,c,d,area,f,i,_,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.b)();case 2:return e=t.sent,t.next=5,Object(l.a)();case 5:for(n=t.sent,r=new Set,3,c=e.data.filter((function(t){return t.id<=3})),d=[],area=n.data.cities.map((function(t,e){var r=t.id,data=n.data.zones.filter((function(t){return t.match_city_id===r})).map((function(t){return"".concat(t.match_city_id,"-").concat(t.match_zone_id)}));return{id:t.id,name:t.name,content:data}})),f=function(i){var t=area.filter((function(t){return c[i].id===t.id}));t=t[0]?t[0].content:[],d.push({status:t.length===c[i].zones.length,selected:t,data:c[i].zones.map((function(t){return"".concat(c[i].id,"-").concat(t.id)}))})},i=0;i<c.length;i++)f(i);return _=n.data.services.filter((function(t){return!r.has(t.service_class_id)&&r.add(t.service_class_id)})),v=_.map((function(t){var e=t.service_class_id,data=n.data.services.filter((function(t){return t.service_class_id===e})).map((function(t){return t.service_name})).join("、");return{id:t.service_class_id,name:t.service_class_name,content:data}})),t.abrupt("return",{userData:n.data,areaData:c,areaArr:d,serviceData:v,form:{cell_phone:n.data.cell_phone,name:n.data.name,nickname:n.data.nickname,birthday:n.data.birthday,email:n.data.email,sex:n.data.sex,auth:n.data.auth,image:"",image_title:n.data.image_title,line_id:n.data.line_id,bank_code:n.data.bank_code,bank_name:n.data.bank_name,bank_account:n.data.bank_account,services:n.data.services,zones:n.data.zones,credentials:[{card_front_image_title:n.data.credentials.card_front_image_title,card_front_image:n.data.credentials.card_front_image,card_back_image_title:n.data.credentials.card_back_image_title,card_back_image:n.data.credentials.card_back_image,bank_book_image_title:n.data.credentials.bank_book_image_title,bank_book_image:n.data.credentials.bank_book_image}]}});case 16:case"end":return t.stop()}}),t)})))()},methods:{all_area_event:function(t,e){this.areaArr[t].status?this.areaArr[t].selected=this.areaArr[t].data:this.areaArr[t].selected=[]},single_area_event:function(t){this.areaArr[t].status=this.areaArr[t].selected.length===this.areaArr[t].data.length},area_select_event:function(){this.form.zones=[];for(var t=this.form.zones,i=0;i<this.areaArr.length;i++)t=t.concat(this.areaArr[i].selected);t=t.map((function(t){return t=t.split("-"),{match_city_id:Number(t[0]),match_zone_id:Number(t[1])}})),this.form.zones=t},submit_event:function(){var t=this;Object(l.f)(this.form).then((function(e){t.status.result=!0,t.view.popup=!0,setTimeout((function(){t.$router.push("/user")}),1e3)})).catch((function(e){console.log(e.response),t.status.result=!1,t.view.popup=!0,setTimeout((function(){t.view.popup=!1}),1e3)}))}}},f=n(9),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container bg-dark"},[r("Header",{attrs:{title:t.title,config:t.config.headerConfig,saveFn:t.submit_event}}),r("div",{staticClass:"supply-case-setting-page"},[r("div",{staticClass:"case-setting"},[r("div",{staticClass:"case-setting__item"},[r("div",{staticClass:"case-setting__item__title"},[t._v("服務項目")]),r("div",{staticClass:"case-setting__item__list"},[r("div",{staticClass:"service-list"},t._l(t.serviceData,(function(e){return r("div",{key:e.id,staticClass:"service-list__item"},[r("div",{staticClass:"item"},[r("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),r("div",{staticClass:"item-content"},[t._v(t._s(e.content))])])])})),0)])]),r("div",{staticClass:"case-setting__item"},[r("div",{staticClass:"case-setting__item__title"},[t._v("接案地區")]),r("div",{staticClass:"case-setting__item__list"},[r("div",{staticClass:"area-list"},t._l(t.areaData,(function(e,n){return r("div",{key:e.id,staticClass:"area-list__item"},[r("div",{staticClass:"item"},[r("div",{staticClass:"item__title"},[t._v(t._s(e.name))]),r("div",{staticClass:"item__list"},[r("div",{staticClass:"sub-list"},[r("div",{staticClass:"sub-list__all"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.areaArr[n].status,expression:"areaArr[index].status"}],attrs:{type:"checkbox",id:"select-all-"+e.id},domProps:{checked:Array.isArray(t.areaArr[n].status)?t._i(t.areaArr[n].status,null)>-1:t.areaArr[n].status},on:{change:[function(e){var r=t.areaArr[n].status,c=e.target,o=!!c.checked;if(Array.isArray(r)){var l=t._i(r,null);c.checked?l<0&&t.$set(t.areaArr[n],"status",r.concat([null])):l>-1&&t.$set(t.areaArr[n],"status",r.slice(0,l).concat(r.slice(l+1)))}else t.$set(t.areaArr[n],"status",o)},function(r){t.all_area_event(n,e.id),t.area_select_event()}]}}),r("label",{attrs:{for:"select-all-"+e.id}},[t._v("全部區域")])]),t._l(e.zones,(function(c,o){return r("div",{key:c.id,staticClass:"sub-list__item"},[r("div",{staticClass:"sub-item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.areaArr[n].selected,expression:"areaArr[index].selected"}],staticClass:"sub-item__input",attrs:{type:"checkbox",id:"service-item"+c.id},domProps:{value:e.id+"-"+c.id,checked:Array.isArray(t.areaArr[n].selected)?t._i(t.areaArr[n].selected,e.id+"-"+c.id)>-1:t.areaArr[n].selected},on:{change:[function(r){var o=t.areaArr[n].selected,l=r.target,d=!!l.checked;if(Array.isArray(o)){var f=e.id+"-"+c.id,_=t._i(o,f);l.checked?_<0&&t.$set(t.areaArr[n],"selected",o.concat([f])):_>-1&&t.$set(t.areaArr[n],"selected",o.slice(0,_).concat(o.slice(_+1)))}else t.$set(t.areaArr[n],"selected",d)},function(e){t.single_area_event(n),t.area_select_event()}]}}),r("label",{staticClass:"sub-item__label",attrs:{for:"service-item"+c.id}},[t._v(t._s(c.name))])])])}))],2)])])])})),0)])])]),r("transition",{attrs:{name:"fade"}},[t.view.popup?r("div",{staticClass:"prompt-message"},[t.status.result?r("div",{staticClass:"prompt-message__item"},[r("div",{staticClass:"icon"},[r("img",{attrs:{src:n(247)}})]),r("div",{staticClass:"title"},[t._v("儲存成功")])]):r("div",{staticClass:"prompt-message__item"},[r("div",{staticClass:"icon"},[r("img",{attrs:{src:n(232)}})]),r("div",{staticClass:"title"},[t._v("儲存失敗")])])]):t._e()])],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);