(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{238:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAnBJREFUaAXtmrtKA1EQhrMqKFooARUVBO2VPIBiOgvBzsJC7NRWFGz0DcQH8DF8Au2tvFTeQLBRUBtvoMZvIJDdsHP2LDl7iezAsGd35sz//3POJtkkpVJh/7QDtVptHb/CxX5xGa+3hVyILuGaLeVeBMyPNPYScymgw2UxX61R37h5aIo150aeJyXg1YBsihmmJRxia3Tgs/gB/ohrJjHJkdykGmivVkjgK/gNHteumSBzsxECcAW/xFu1CwpU7NvmIBPADfyzVea++R9S0wG16BIA7fmAXQ93oxm0kAHbTdeMQ+pttkBRnwrQDP4TAuj6kmDM6EwaEa8xNI8o2EfGGT5pznQWvaXStOd5b6aKcV6+diiUFnnhLFiCaTSrFah3/55KZWM198FnSo6bVsF2BVYzIC/tkIYJtmq2AhbVCskHjNiRW4jt0w1HWcre5LmGIrxztcw2+gqL2qyAvMVnRV44C7b6McNGwIhUydhUDjYChjMmL/AqBxsBAzkQ0K9xsBGgzU3zuvpi0y4C1GYVAtTWpBQoViClRqswxQqorUkpUKxASo1WYdp+Bbo0aTwHDBHbwue1nBSvL8NHns72eS548uOqnzGYcEzinD85B+MTBFT9PEwCvkns9CfnYPyDgMCuMd0DLzkg3ExBHm0DZhKwTWboc2igQnonwkU4BUzdQpLFfdDDYTAwI7uTJ7bPZ3bwCSEbVyAOJqs1Rv5anDnkHtLVh5hzkklHgIfH+bVGcp010IkqCC3gNl+/S86CE1DXRSAmfzGIsnz/5QD2Vfw0RIVcq7psWmJ7EKJSewKfqhM+53jHTVurnzs5/AEz2or9KpoNowAAAABJRU5ErkJggg=="},239:function(t,e,n){"use strict";n(18);var c=n(39),r=n.n(c).a.create({baseURL:"http://match.bsdctw.net/api/"});r.interceptors.request.use((function(t){return window.localStorage.getItem("token")&&(t.headers={Authorization:"Bearer "+window.localStorage.getItem("token")}),t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){return t}),(function(t){return Promise.resolve(t)})),e.a=r},240:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAAAXNSR0IArs4c6QAAAS1JREFUaAXtl8EJwkAURLOoBKxA8GgLVmEj3i1ALcAmPHgVPFhCQPCsLWgTGufr5ibCkv/5WZmFz0ZYZ2fe5JKi4CIBEiABEkggUNf1KOF4d48iSIk5YGQtvJz2NS5GgBI6e8ws6g00dF00JAzmiGnWDg89FzNtL4VxhmkL0eT/bMYEq4Iom1GAaCLBZkywKoiyGQWIJhJsxgSrgiibUYBoIvFPzQQJA0oXzCTSumO/xuectiqEsJRAa7he5eT8h9exBJKvyxNmGg/esFeYZ/ydy3ZGQ5u3WQmFkU/nZskntbyK+S4EYKgs6mNTWdQEk2yKTTkS4OvnCD/pajaVhMvxMJtyhJ90NZtKwuV4+EtTS0c7OlfHUFvsD8xcR7UDKggz7IANWiABEiCBD4EXyIv1iOsRCl0AAAAASUVORK5CYII="},241:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAwCAYAAABT9ym6AAAAAXNSR0IArs4c6QAAAbpJREFUaAXt2bFOwzAQgOEGOiGBYOUJ2NiQkGCACTEwMLHwOognYYFHYESwMfIiZUQKvyFXISuhjuvz2VIsndxadu4+t2mTdjab2rQD0w5E7UDbtufEM3EddYDEi6hjTtwTT8Ru8OGZ/EC49kXcBC9UmEh+h3AAaVfBaVhxRCy6lWYY8vuIV8a2giFuIgtOCTNMh3ikl+YQO6MQMpmFJhjyulciDcIKo4LIjekQf0/s+LeTFO/3JDkh1M6ZLAhBaWGyIrQwJojUGFNEKkwRiHUxRSFiMQOIbTmeaU9xQR/NRSNkB1dhqkCswlSF+AdzC8S/7CjjnJCih3rvbcbTZXPXTnUgBEfBZ8vyfx981Ijw7+wcxexOUzZ3VE/BPuKdMbWr5lHFhU7uQfycE4wHfc+E5lGdN4SQpFVgViGqwIQiisaMRRSJiUUUhVkXUQSmQ/g/nkVfdnC8/B/NqREmr4wWIitGG5EFkwuhismNUMFYIZJirBHJMEDuCGmmt6cU4X/PHAhU+g150NPvdWNv9BdN0yx65mQZIvcLiS6JT2KTGPWvrrvLOybmLCyiUcs+cVhEMVMR0w5UtgPfXcWxw0IAaYEAAAAASUVORK5CYII="},242:function(t,e,n){t.exports=n.p+"img/300c8a9.png"},243:function(t,e,n){"use strict";var c=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn-item"},[e("img",{attrs:{src:n(242)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn-title"},[e("div",{staticClass:"title"},[this._v("儲存")])])}],r={props:{title:{type:String,default:""},config:{type:Object,default:function(){return{bgNone:!1,fixedNone:!1,backPage:!1,backLink:"",closePage:!1,closeLink:"",notification:!1,editBtn:!1,saveBtn:!1}}},editFn:{type:Function,default:function(){}},saveFn:{type:Function,default:function(){}},backFn:{type:Function,default:function(link){link?this.$router.push(link):this.$router.go(-1)}},closeFn:{type:Function,default:function(link){link?this.$router.push(link):this.$router.go(-1)}}}},o=n(13),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"header",class:{unbg:t.config.bgNone,unfixed:t.config.fixedNone},attrs:{id:"header"}},[c("div",{staticClass:"header-wrapper"},[c("div",{staticClass:"header-left"},[c("div",{staticClass:"page-btn"},[t.config.backPage?c("div",{staticClass:"page-btn__item",on:{click:function(e){return t.backFn(t.config.backLink)}}},[c("img",{attrs:{src:n(240)}})]):t.config.closePage?c("div",{staticClass:"page-btn__item",on:{click:function(e){return t.closeFn(t.config.closeLink)}}},[c("img",{attrs:{src:n(241)}})]):t._e()])]),c("div",{staticClass:"header-content"},[c("div",{staticClass:"title"},[t._v(t._s(t.title))])]),c("div",{staticClass:"header-right"},[c("div",{staticClass:"controll-btn"},[t.config.notification?c("div",{staticClass:"controll-btn__item"},[c("nuxt-link",{staticClass:"btn-item",attrs:{to:"/notification"}},[c("img",{attrs:{src:n(238)}})])],1):t.config.editBtn?c("div",{staticClass:"controll-btn__item",on:{click:t.editFn}},[t._m(0)]):t.config.saveBtn?c("div",{staticClass:"controll-btn__item",on:{click:t.saveFn}},[t._m(1)]):t._e()])])])])}),c,!1,null,null,null);e.a=component.exports},244:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var c=function(t){var e=(new Date).getFullYear(),n=new Date(t),c=n.getFullYear(),r=n.getMonth()+1,o=n.getDate(),l=n.getHours()<10?"0"+n.getHours():n.getHours(),A=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes();return{slash:{MD:"".concat(r,"/").concat(o),YMD:"".concat(c,"/").concat(r,"/").concat(o)},dash:{MD:"".concat(r,"-").concat(o),YMD:"".concat(c,"-").concat(r,"-").concat(o)},time:{HM:"".concat(l,":").concat(A)},special:{mode_1:e===c?"".concat(r,"/").concat(o):"".concat(c,"/").concat(r,"/").concat(o)}}}},249:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return A})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return m}));var c=n(239),r=function(){return c.a.get("users")},o=function(data){return c.a.put("users",data)},l=function(data){return c.a.put("users/application",data)},A=function(){return c.a.get("supply/index")},d=function(){return c.a.get("supply/index/services")},m=function(data){return c.a.post("supply/index/details",data)}},251:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAZJJREFUaAXtWUGOwjAMpCtewBHxB96LuMML9s4X9g+Ive0XYExjaWVsp6lCSiRHCiGO7Yk9TiO1q1W0yEBkIDLQdQbuqZUGMddO4nxJQW9zNwBkaYd+Qr9xxuTIAUt5bj7BjjAJe8e62jhoQpIlwx/83Vg6jeR/wNkPw3AtwkvRY7h/p2BUe1Kgpi46wtHKtsP6Fp2wqZ0cV/oSjLhstrrGKH26x4+no61NsYMOlTC1m+bDlY125Rtznc5YzO3DPcQz8JqbRADNUy4A12L+MqUafBF+kKD7EsoygAvEvOxaEJGrgO4ZiABalJGHkT0D0ljWpHVGauvJffA8SogzsdTYPQPFZ8CqeclAbT3pn+fdMxABMJVLjcHAUpln3OKnUO0bdqo/3rAco4RkRlrPu2eg+AzUvmGn+rOY7Z6BCMCitpXcY+CXNoHntPt+/p0bBTa/WH7uRcPyArgkg8M/R5qPt8hS4o7J+cUCMd/5JAcf/4HDZACPtyui3qOf0U0KrcxUkBMmYZd/nakAHi4iA71k4AGc/Sn6oHikPAAAAABJRU5ErkJggg=="},253:function(t,e,n){t.exports=n.p+"img/17bd3fc.png"},312:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAAAXNSR0IArs4c6QAAARBJREFUaAXtlOENgjAQRml30IQZmMJ13Mcp3EGncAQCiTMA8iEmYChQ00v88frDhOtd795DmmUsDGAAAxjAAAYwgAEMYAADGMAABjCAgXQGyrI8V1V1iD1RNaqNrQvl+9BGTFwDdV13adv2HgOlXNWoNhVUEiDv/dU59+gHK/ZCTWAK1eqMGImhXBfaiI0vDHjK8/y5dE5M7lL9WiwZkJrsGXRPztrAW3tJgbagrGHUPzlQCErx8QL4fDPBv6Ryf10mQBrm+20opktjvABMYNTDDEiHT6GGZu/bzAxm6KEfy1XX9bFpmpt69FezKYwlx+xsQeltzYI8YAADGMAABjCAAQxgAAMYwAAGMICBPzLwAof+wi5JBKdfAAAAAElFTkSuQmCC"},336:function(t,e,n){"use strict";n.r(e);var c=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("img",{attrs:{src:n(251)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn"},[e("img",{attrs:{src:n(312)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("img",{attrs:{src:n(146)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("img",{attrs:{src:n(253)}})])}],r=(n(150),n(33),n(5)),o=n(243),l=n(89),A=n(249),d=n(244),m={validate:function(t){return t.store.state.user.user_role>=200},middleware:"authenticated",components:{Header:o.a,MainMenu:l.a},data:function(){return{title:"收入明細",date:Object(d.a)(new Date).slash.YMD,config:{headerConfig:{bgNone:!1,fixedNone:!0,notification:!0}},view:{search:!1},form:{startTime:"",endTime:""},incomeData:[]}},computed:{minDate:function(){var t=new Date,e=t.getFullYear()-1,n=t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,c=t.getDate()<10?"0".concat(t.getDate()):t.getDate();return"".concat(e,"-").concat(n,"-").concat(c)}},asyncData:function(){return Object(r.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={start_time:"".concat(Object(d.a)(new Date).slash.YMD," 00:00:00"),end_time:"".concat(Object(d.a)(new Date).slash.YMD," 23:59:00")},t.next=3,Object(A.b)(e);case 3:return(n=t.sent).data.complet_case.forEach((function(t){t.updated_at=Object(d.a)(t.updated_at).special.mode_1})),t.abrupt("return",{incomeData:n.data});case 6:case"end":return t.stop()}}),t)})))()},methods:{search_slide:function(){this.view.search=!this.view.search},search_event:function(){var t=this,e=Date.parse(this.form.startTime).valueOf(),n=Date.parse(this.form.endTime).valueOf();if(e<=n){var data={start_time:"".concat(this.form.startTime," 00:00:00"),end_time:"".concat(this.form.endTime,e===n?" 23:59:00":" 00:00:00")};this.date=e===n?Object(d.a)(this.form.startTime).slash.YMD:"".concat(Object(d.a)(this.form.startTime).slash.YMD," - ").concat(Object(d.a)(this.form.endTime).slash.YMD),Object(A.b)(data).then((function(e){e.data.complet_case.forEach((function(t){t.updated_at=Object(d.a)(t.updated_at).special.mode_1})),t.incomeData=e.data,t.view.search=!1})).catch((function(t){console.log(t.response)}))}else alert("結束時間不可小於起始時間")}}},v=n(13),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container bg-dark has-menu"},[n("Header",{attrs:{title:t.title,config:t.config.headerConfig}}),n("div",{staticClass:"supply-income-page"},[n("div",{staticClass:"container__top"},[n("div",{staticClass:"supply-icome-search"},[n("div",{staticClass:"search-date-title",on:{click:t.search_slide}},[t._m(0),n("div",{staticClass:"range"},[t._v(t._s(t.date))]),t._m(1)]),n("div",{staticClass:"search-date-block"},[n("SlideUpDown",{attrs:{active:t.view.search,duration:500}},[n("ValidationObserver",{attrs:{name:"income-search-form"},scopedSlots:t._u([{key:"default",fn:function(e){var c=e.handleSubmit,r=e.valid;return[n("div",{staticClass:"search-date"},[n("div",{staticClass:"search-date__item"},[n("label",[t._v("起始時間")]),n("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var c=e.errors;return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.startTime,expression:"form.startTime"}],attrs:{type:"text",name:"起始時間",onfocus:"(this.type='date')",placeholder:"請輸入起始時間",min:t.minDate},domProps:{value:t.form.startTime},on:{input:function(e){e.target.composing||t.$set(t.form,"startTime",e.target.value)}}}),n("span",{staticClass:"search-date__item__error"},[t._v(t._s(c[0]))])]}}],null,!0)})],1),n("div",{staticClass:"search-date__item"},[n("label",[t._v("結束時間")]),n("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var c=e.errors;return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.endTime,expression:"form.endTime"}],attrs:{type:"text",name:"結束時間",onfocus:"(this.type='date')",placeholder:"請輸入起始時間",min:t.minDate},domProps:{value:t.form.endTime},on:{input:function(e){e.target.composing||t.$set(t.form,"endTime",e.target.value)}}}),n("span",{staticClass:"search-date__item__error"},[t._v(t._s(c[0]))])]}}],null,!0)})],1),n("div",{staticClass:"search-date__btn"},[n("div",{staticClass:"search-btn",class:{unclickable:!r},on:{click:function(e){return c(t.search_event)}}},[t._v("查詢")])])])]}}])})],1)],1)])]),n("div",{staticClass:"container__content"},[n("div",{staticClass:"supply-income-detail"},[n("div",{staticClass:"supply-income-total"},[n("div",{staticClass:"income-total"},[n("div",{staticClass:"income-total__description"},[t._v("最長可查詢12個月內案件收入，案件收入於每月五號入帳。")]),n("div",{staticClass:"income-total__price"},[n("div",{staticClass:"title"},[t._v("收入總金額")]),n("div",{staticClass:"price"},[t._m(2),n("div",{staticClass:"value price-style"},[t._v(t._s(t.incomeData.earn))])])])])]),n("div",{staticClass:"supply-income-list"},[t.incomeData.complet_case.length>0?n("div",{staticClass:"income-list"},t._l(t.incomeData.complet_case,(function(e){return n("div",{key:e.id,staticClass:"income-list__item"},[n("div",{staticClass:"item"},[n("div",{staticClass:"item__top"},[n("div",{staticClass:"item-num"},[t._v(t._s(e.order_num))]),n("div",{staticClass:"item-date"},[t._v(t._s(e.updated_at))])]),n("div",{staticClass:"item__content"},[n("div",{staticClass:"item-service"},[n("div",{staticClass:"title"},[t._v(t._s(e.service_name))]),n("div",{staticClass:"type"},[t._v(t._s(e.service_class_name))])]),n("div",{staticClass:"item-area"},[t._v(t._s(e.City_name)+"，"+t._s(e.Zone_name))]),n("div",{staticClass:"item-content"},[t._v(t._s(e.content))])]),n("div",{staticClass:"item__footer"},[n("div",{staticClass:"item-price"},[n("div",{staticClass:"title"},[t._v("案件總金額")]),n("div",{staticClass:"price price-style"},[t._v("$ "+t._s(e.supply_price))])]),n("div",{staticClass:"item-price"},[n("div",{staticClass:"title"},[t._v("收入總金額")]),n("div",{staticClass:"price price-style"},[t._v("$ "+t._s(e.cost_commission))])])])])])})),0):n("div",{staticClass:"income-no-data"},[t._m(3),n("div",{staticClass:"title"},[t._v("沒有相關資料")])])])])])]),n("MainMenu")],1)}),c,!1,null,null,null);e.default=component.exports}}]);